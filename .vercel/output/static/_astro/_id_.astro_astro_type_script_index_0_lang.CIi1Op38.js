import{e as v}from"./cartStore.Dg_JJ8gq.js";import{i as x,r as I,a as L}from"./wishlistStore.DdiVJu_S.js";import"./client.schema.D9gTZs88.js";import"./index.9eZ28vGx.js";document.addEventListener("DOMContentLoaded",()=>{const m=document.getElementById("main-image"),u=document.querySelectorAll(".thumbnail-button");u.forEach(t=>{t.addEventListener("click",()=>{const r=parseInt(t.getAttribute("data-index")||"0",10),e=[...Array.from(document.querySelectorAll(".thumbnail-button img"))].map(n=>n.getAttribute("src"));m&&(m.src=e[r]),u.forEach(n=>{n.classList.remove("border-primary-500"),n.classList.add("border-transparent")}),t.classList.remove("border-transparent"),t.classList.add("border-primary-500")})});const i=document.getElementById("quantity"),p=document.getElementById("increment"),g=document.getElementById("decrement");p&&i&&p.addEventListener("click",()=>{const t=parseInt(i.value,10),r=parseInt(i.max,10);t<r&&(i.value=(t+1).toString())}),g&&i&&g.addEventListener("click",()=>{const t=parseInt(i.value,10);t>1&&(i.value=(t-1).toString())});const s=document.getElementById("add-to-cart");s&&s.addEventListener("click",()=>{const t=new URL(window.location.href).pathname.split("/").pop(),r=parseInt(document.getElementById("quantity")?.value||"1",10);if(t){const e=document.querySelector("h1")?.textContent?.trim()||"",n=document.getElementById("main-image")?.src,d=document.querySelector(".text-3xl.font-bold")?.textContent?.trim()||"0",l=document.querySelector("div.mb-6 p")?.textContent?.trim()||"",c=parseInt(d.replace(/\D/g,""),10);if(e&&n&&!isNaN(c)){for(let f=0;f<r;f++)v({id:t,name:e,price:c,image:n,description:l});const y=s.textContent;s.innerHTML=`
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
              </svg>
              AÃ±adido al carrito
            `,setTimeout(()=>{s.innerHTML=y},2e3)}}});const o=document.getElementById("wishlist-btn"),a=(t,r)=>{const e=t.querySelector(".wishlist-icon");e&&(r?(e.classList.add("text-red-500"),e.classList.remove("text-gray-500","dark:text-gray-400"),e.setAttribute("fill","currentColor")):(e.classList.remove("text-red-500"),e.classList.add("text-gray-500","dark:text-gray-400"),e.setAttribute("fill","none")))};if(o){const t=o.getAttribute("data-product-id");if(t){const r=x(t);a(o,r),o.addEventListener("click",()=>{const e=document.querySelector("h1")?.textContent?.trim()||"",n=document.getElementById("main-image")?.src,d=document.querySelector(".text-3xl.font-bold")?.textContent?.trim()||"0",l=document.querySelector("div.mb-6 p")?.textContent?.trim()||"",c=parseInt(d.replace(/\D/g,""),10);t&&e&&n&&!isNaN(c)&&(x(t)?(I(t),a(o,!1)):(L({id:t,name:e,price:c,image:n,description:l}),a(o,!0)))})}}});

import{m as i}from"./index.9eZ28vGx.js";const r=i({});function u(e){const s=r.get()[e.productId]||[],n=`review_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,o={...e,id:n,date:new Date().toISOString()};return r.setKey(e.productId,[...s,o]),c(),o}function a(e){return r.get()[e]||[]}function v(e){const t=a(e);return t.length===0?0:t.reduce((n,o)=>n+o.rating,0)/t.length}function c(){typeof window<"u"&&localStorage.setItem("jamuchee-reviews",JSON.stringify(r.get()))}function w(){if(typeof window<"u"){const e=localStorage.getItem("jamuchee-reviews");if(e)try{const t=JSON.parse(e);r.set(t)}catch(t){console.error("Error loading reviews from localStorage:",t)}}}w();export{u as a,v as b,a as g};

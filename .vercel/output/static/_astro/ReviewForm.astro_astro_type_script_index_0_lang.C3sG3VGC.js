import{a as g}from"./reviewsStore.Ci_dERw8.js";import"./index.9eZ28vGx.js";document.addEventListener("DOMContentLoaded",()=>{const i=document.getElementById("review-form"),l=document.querySelectorAll(".rating-star"),n=document.getElementById("rating"),o=document.getElementById("review-success"),t=document.getElementById("review-error");l.forEach(m=>{m.addEventListener("click",r=>{const d=r.currentTarget,a=parseInt(d.getAttribute("data-rating")||"0",10);n&&(n.value=a.toString()),l.forEach(c=>{const e=c;parseInt(e.getAttribute("data-rating")||"0",10)<=a?(e.classList.add("text-yellow-400"),e.classList.remove("text-gray-300","dark:text-gray-600")):(e.classList.remove("text-yellow-400"),e.classList.add("text-gray-300","dark:text-gray-600"))})})}),i&&i.addEventListener("submit",m=>{m.preventDefault();const r=new FormData(i),d=r.get("author"),a=parseInt(r.get("rating"),10),c=r.get("comment"),e=r.get("productId");if(!d||!c||a<1||!e){t&&t.classList.remove("hidden"),setTimeout(()=>{t&&t.classList.add("hidden")},3e3);return}try{g({productId:e,author:d,rating:a,comment:c}),o&&o.classList.remove("hidden"),i.reset(),l.forEach(s=>{s.classList.remove("text-yellow-400"),s.classList.add("text-gray-300","dark:text-gray-600")}),n&&(n.value="0"),setTimeout(()=>{o&&o.classList.add("hidden"),window.location.reload()},3e3)}catch(s){console.error("Error al añadir reseña:",s),t&&t.classList.remove("hidden"),setTimeout(()=>{t&&t.classList.add("hidden")},3e3)}})});

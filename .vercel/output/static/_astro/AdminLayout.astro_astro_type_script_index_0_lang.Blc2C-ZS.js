import{i as t,l as a}from"./authStore.CW5NdGrj.js";import"./index.Bj88MMzq.js";import"./equality.Dp7T0ObN.js";import"./supabase.CIJy6KaJ.js";const o="jamuchee_admin_auth",n="session_checked",r=!1;async function s(){try{if(sessionStorage.getItem(n)==="true"){const i=localStorage.getItem(o)==="true";t.set(i),!i&&!window.location.pathname.endsWith("/admin")&&(window.location.href="/admin");return}sessionStorage.setItem(n,"true");const e=localStorage.getItem(o)==="true";t.set(e),!e&&!window.location.pathname.endsWith("/admin")&&(window.location.href="/admin")}catch(e){console.error("Error al verificar autenticación:",e),a()}}document.addEventListener("DOMContentLoaded",s);document.getElementById("logout-btn")?.addEventListener("click",()=>{console.log("Cerrando sesión..."),localStorage.removeItem(o),sessionStorage.removeItem(n),t.set(!1),window.location.href="/admin"});

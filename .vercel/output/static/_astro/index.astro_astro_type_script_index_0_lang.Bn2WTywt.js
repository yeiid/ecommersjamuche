const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/especiesStore.COy5AAc-.js","_astro/index.Bj88MMzq.js","_astro/equality.Dp7T0ObN.js","_astro/supabase.CIJy6KaJ.js"])))=>i.map(i=>d[i]);
import{_ as d}from"./supabase.CIJy6KaJ.js";import{i as a}from"./authStore.oNKChDb7.js";import"./index.Bj88MMzq.js";import"./equality.Dp7T0ObN.js";if(typeof window<"u"){if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")localStorage.setItem("devModeAuth","true"),localStorage.setItem("jamuchee_admin_auth","true"),a.set(!0);else{let e=!1;a.subscribe(i=>{e=i,!e&&!localStorage.getItem("jamuchee_admin_auth")&&(window.location.href="/admin")})}const o=document.getElementById("deleteModal"),l=document.getElementById("cancelDelete"),n=document.getElementById("confirmDelete"),c=document.querySelectorAll(".delete-especie");let t=null;c.forEach(e=>{e.addEventListener("click",()=>{t=e.getAttribute("data-id"),o.classList.remove("hidden")})}),l.addEventListener("click",()=>{o.classList.add("hidden"),t=null}),n.addEventListener("click",async()=>{if(t)try{const{deleteEspecie:e}=await d(async()=>{const{deleteEspecie:i}=await import("./especiesStore.COy5AAc-.js");return{deleteEspecie:i}},__vite__mapDeps([0,1,2,3]));await e(t),o.classList.add("hidden"),window.location.reload()}catch(e){console.error("Error al eliminar especie:",e),alert("Error al eliminar la especie. Por favor, intenta nuevamente.")}})}

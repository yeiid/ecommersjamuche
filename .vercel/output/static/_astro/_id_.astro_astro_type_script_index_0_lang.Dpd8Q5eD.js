import{e as y,f as I}from"./cartStore.CCaFZ5TA.js";import{i as x,r as L,a as h}from"./wishlistStore.DdiVJu_S.js";import"./client.schema.D9gTZs88.js";import"./index.9eZ28vGx.js";document.addEventListener("DOMContentLoaded",()=>{y();const c=document.getElementById("main-image"),u=document.querySelectorAll(".thumbnail-button");u.forEach(t=>{t.addEventListener("click",()=>{const r=parseInt(t.getAttribute("data-index")||"0",10),e=[...Array.from(document.querySelectorAll(".thumbnail-button img"))].map(n=>n.getAttribute("src"));c&&(c.src=e[r]||c.src),u.forEach(n=>{n.classList.remove("border-primary-500"),n.classList.add("border-transparent")}),t.classList.remove("border-transparent"),t.classList.add("border-primary-500")})});const i=document.getElementById("quantity"),p=document.getElementById("increment"),g=document.getElementById("decrement");p&&i&&p.addEventListener("click",()=>{const t=parseInt(i.value,10),r=parseInt(i.max,10);t<r&&(i.value=(t+1).toString())}),g&&i&&g.addEventListener("click",()=>{const t=parseInt(i.value,10);t>1&&(i.value=(t-1).toString())});const o=document.getElementById("add-to-cart");o&&o.addEventListener("click",()=>{y();const t=new URL(window.location.href).pathname.split("/").pop(),r=parseInt(document.getElementById("quantity")?.value||"1",10);if(t){const e=document.querySelector("h1")?.textContent?.trim()||"",n=document.getElementById("main-image")?.src,l=document.querySelector(".text-3xl.font-bold")?.textContent?.trim()||"0",m=document.querySelector("div.mb-6 p")?.textContent?.trim()||"",a=parseInt(l.replace(/\D/g,""),10);if(e&&n&&!isNaN(a)){const f=I({id:t,name:e,price:a,image:n,description:m,quantity:r}),v=o.textContent;o.innerHTML=f?`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
                Añadido al carrito`:`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
                </svg>
                Error al añadir`,setTimeout(()=>{o&&v&&(o.innerHTML=v)},2e3)}}});const s=document.getElementById("wishlist-btn"),d=(t,r)=>{const e=t.querySelector(".wishlist-icon");e&&(r?(e.classList.add("text-red-500"),e.classList.remove("text-gray-500","dark:text-gray-400"),e.setAttribute("fill","currentColor")):(e.classList.remove("text-red-500"),e.classList.add("text-gray-500","dark:text-gray-400"),e.setAttribute("fill","none")))};if(s){const t=s.getAttribute("data-product-id");if(t){const r=x(t);d(s,r),s.addEventListener("click",()=>{const e=document.querySelector("h1")?.textContent?.trim()||"",n=document.getElementById("main-image")?.src,l=document.querySelector(".text-3xl.font-bold")?.textContent?.trim()||"0",m=document.querySelector("div.mb-6 p")?.textContent?.trim()||"",a=parseInt(l.replace(/\D/g,""),10);t&&e&&n&&!isNaN(a)&&(x(t)?(L(t),d(s,!1)):(h({id:t,name:e,price:a,image:n,description:m}),d(s,!0)))})}}});
